<!DOCTYPE html>
<html lang="pt-br">

<title>Formul√°rio</title>
<meta charset="utf-8">

  <body>
      <form action="" method="POST" id="form_envia">
        <h2 class="text-3xl md:text-4xl font-extrabold mb-2">Ibge Portal</h2>

        <br>

        <div>
          <label class="block mb-2 font-extrabold" for="">Cidade Origem</label>
          <input type="text" name="cidade_origem" id="cidade_origem" placeholder="Digite o CEP de origem" class="focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md">
        </div>
        <div>
          <label class="block mb-2 font-extrabold" for="">Cidade Destino</label>
          <input type="text" name="cidade_destino" id="cidade_destino" placeholder="Digite o CEP de destino" class="focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md">
        </div>

        <br>

        <div id="resultado"></div>

        <br>

        <button class="inline-block w-full py-4 px-6 mb-6 text-center text-lg leading-6 text-white font-extrabold bg-indigo-800 hover:bg-indigo-900 border-3 border-indigo-900 shadow rounded transition duration-200" type="submit" name="Enviar">
        Enviar cidades
        </button>
      </form>
  </body>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $("#form_envia")
    .submit(function (event) {
      event.preventDefault();

      var $form = $(this),
        cidade_origem = $form.find("input[name='cidade_origem']").val(),
        cidade_destino = $form.find("input[name='cidade_destino']").val()

    $.ajax({
        type: "POST",
        url: "send.php",
        data: { cidade_origem, cidade_destino },
        success: function (response) {

        $("#resultado")
        .empty()
        .append(`<p>ORIGEM DO IBGE: ${response.ibgeOrigem}</p>`)
        .append(`<p>DESTINO DO IBGE: ${response.ibgeDestino}</p>`);


        }
      });


    });
  </script>

</html>
